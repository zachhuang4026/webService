{% extends "base.html" %}
{% block content %}

    <h1> eBay Home Page </h1>

    <div class="split_page">
        <div style="width: 35%;">
            <h3>Welcome userid {{ user }} </h3>
            Log in value {{session['login']}}
            session test {{session['username']}}
        </div>
        <div style="flex-grow: 1;">
            <form> <!-- ToDo: action="{{ url_for("login" )}}" method="post" -->
                <input type="text" class="search_bar_text" placeholder="What are you looking for?">
                <input type="submit" class="search_bar_button" value="Search">
            </form>
        </div>
    </div>
    
    <h3> Current Auctions </h3>

    <!-- https://www.w3schools.com/howto/howto_js_sort_table.asp -->
    <table id="table" class="item_table">
        <tr>
            <th> </th>
            <th onclick="sortTable(0)"> Item </th>
            <th onclick="sortTable(1)"> Price </th>
            <th onclick="sortTable(2)"> End Time </th>
        </tr>

        {% for listing in active_listings %}
        <tr> 
            <td>  <!-- Item Picture -->
                    <a href="/auction/{{ listing['auction_id'] }}">
                        <img src="../static/auction_default.JPG" style="height: 150px; padding: 3px;">
                    </a>
            </td>
            <td> <!-- Item Name -->
                <a href="/auction/{{ listing['auction_id'] }}">
                    <h3> {{ listing['item_name'] }} </h3>
                </a>
            </td>
            <td> <!-- Item Price -->
                <h3> ${{ listing['price'] }} </h3>
            </td>
            <td> <!-- Listing end time -->
                To Do
            </td>
        </tr>
        {% endfor %}

    </table>
    

{% endblock %}